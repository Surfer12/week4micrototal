Version 4
.lib "../simulation_build/ModelSp2025.txt"
.include "cla_gp_unit.asc"
.include "cla_logic_unit.asc"
SHEET 1 880 680
* Input bits A[3:0] and B[3:0]
WIRE 176 128 144 128
WIRE 176 160 144 160
WIRE 176 192 144 192
WIRE 176 224 144 224
WIRE 176 256 144 256
WIRE 176 288 144 288
WIRE 176 320 144 320
WIRE 176 352 144 352

* Generate/Propagate units
WIRE 304 144 272 144
WIRE 304 176 272 176
WIRE 304 208 272 208
WIRE 304 240 272 240
WIRE 304 272 272 272
WIRE 304 304 272 304
WIRE 304 336 272 336
WIRE 304 368 272 368

* Carry lookahead logic
WIRE 432 144 400 144
WIRE 432 176 400 176
WIRE 432 208 400 208
WIRE 432 240 400 240

* Sum generation
WIRE 560 144 528 144
WIRE 560 176 528 176
WIRE 560 208 528 208
WIRE 560 240 528 240

* Input flags
FLAG 144 128 a0
FLAG 144 160 b0
FLAG 144 192 a1
FLAG 144 224 b1
FLAG 144 256 a2
FLAG 144 288 b2
FLAG 144 320 a3
FLAG 144 352 b3

* Output flags
FLAG 560 144 sum0
FLAG 560 176 sum1
FLAG 560 208 sum2
FLAG 560 240 sum3
FLAG 432 240 cout

* GP units
SYMBOL cla_gp_unit 224 144 R0
SYMATTR InstName X1
SYMBOL cla_gp_unit 224 208 R0
SYMATTR InstName X2
SYMBOL cla_gp_unit 224 272 R0
SYMATTR InstName X3
SYMBOL cla_gp_unit 224 336 R0
SYMATTR InstName X4

* CLA logic
SYMBOL cla_logic_unit 352 192 R0
SYMATTR InstName X5

* XOR gates for final sum
SYMBOL NAND 480 144 R0
SYMATTR InstName X6
SYMBOL NAND 480 176 R0
SYMATTR InstName X7
SYMBOL NAND 480 208 R0
SYMATTR InstName X8
SYMBOL NAND 480 240 R0
SYMATTR InstName X9

TEXT -24 396 Left 2 !.tran 1600n
TEXT -24 428 Left 2 !.model NMOS NMOS
TEXT -24 460 Left 2 !.model PMOS PMOS 