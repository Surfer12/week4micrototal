
*******************************************************
* Filename: lab2-update-feb8.asc
* Example corrected netlist
*******************************************************

.include C:\Users\ryano\AppData\Local\LTspice\lib\cmp\standard.mos
.lib    C:\Users\ryano\AppData\Local\LTspice\lib\cmp\standard.mos

*----- Simulation command
.tran 1

*----- (Optional) input sources for testing.
* You can change these to PULSE, DC, etc.
V_A A 0 PULSE(0 5 0 0 1 1 2)
V_B B 0 PULSE(0 5 0 0 1 1 2)

*-------------------------------------------------------
*  Top-Level Connections (X1..X7) 
*-------------------------------------------------------
* 1) NAND( A, N003 ) => output = N002
X§X1 A N003 N002 NAND

* 2) NAND( N005, B ) => output = N004
X§X2 N005 B N004 NAND

* 3) INVERT( B ) => output = N003
X§X3 B N003 INVERT

* 4) INVERT( A ) => output = N005
X§X4 A N005 INVERT

* 5) ANDx( N002, N004 ) => output = Sum[0]
X§X5 N002 N004 Sum[0] ANDx

* 6) ANDx( NC_01, NC_02 ) => output = N001
; Possibly this is your Carry[0], so you might do:
; .alias Carry[0] = N001
X§X7 NC_01 NC_02 N001 ANDx

.backanno
.end


*******************************************************
* Subcircuit Definitions
*******************************************************

*-------------------------------
* 2-input NAND (universal gate)
*-------------------------------
.subckt NAND in1 in2 out
M1 out   in1   pnode pnode  Sp2025P
M2 out   in2   pnode pnode  Sp2025P
M3 out   in1   nnode nnode  Sp2025N
M4 nnode in2   0     0      Sp2025N
VDD pnode 0 5
.ends NAND


*-------------------------------
* Inverter
*-------------------------------
.subckt INVERT in out
M1 out in   pnode pnode  Sp2025P
M2 out in   0     0      Sp2025N
VDD pnode 0 5
.ends INVERT


*----------------------------------------
* 2-input AND via NAND + Inverter
* (in1, in2 => out = in1 AND in2)
*----------------------------------------
.subckt ANDx in1 in2 out
Xnand in1 in2 nand_out NAND
Xinv  nand_out out     INVERT
.ends ANDx


*******************************************************
* MOSFET Models (adjust or replace as needed)
*******************************************************
.model NMOS NMOS
.model PMOS PMOS
